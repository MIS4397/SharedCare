<!DOCTYPE HTML>
<html>
<head>

<title>Edit Event</title>
		<meta charset="utf-8">
	<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<!-- Apple Icon -->
	<link rel="apple-touch-icon" size="114x114" href="images/splash-icon.png">
<!-- Loading Screen -->
	<link rel="apple-touch-startup-image" href="images/splash-screen@2x.png" media="(max-device-width: 480px) and (-webkit-min-device-pixel-ratio: 2)" />
<!-- jQuery and jQuery mobile scripts --> 
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
	<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
<!-- Additional Script and Styles -->
	<script type="text/javascript" src="js/menuScript.js"></script>
	<link rel="stylesheet" href="style/mainStyle.css"/>
</head> 

<body>

<!--- MENU -->
<div id="menu">
<h3>Edit Event</h3>
	<ul>
		<li><a href="orgDash.html" class="contentLink">Home</a></li>
		<li><a href="EditOrgProfile.html" class="contentLink">Edit Profile </a></li>
		<li><a href="EventListPage.html" class="contentLink" >Edit Events </a></li>
		<li><a href="addEvent.html" class="contentLink">Add an Event </a></li>
	</ul>
</div>

<!-- PAGE --> 
<div data-role="page" class="pages" id="editProfile">

	<div data-role="header" data-theme="b">
		<a href="#" class="showMenu" data-ajax="false">Menu</a>
		<img src="images/LogoIcon.png" style="float:right; position:relative; top: 6px; right: 10px;"></img>
		<h1>&nbsp;&nbsp;DashBoard</h1>
	</div><!-- /header -->
		
	<div data-role="content">	
		<form data-ajax="false" action="UpdateEvent.php" method="post">
				<input type="hidden" value=""/>
				<div data-role="fieldcontain">
						<label for="eventname">Name of Event:</label></br>
						<input type="text" name="eventname" placeholder="ex. Beach Cleanup, Food Bank, etc." value='' /><br />
				</div>
				<input type="hidden" value=""/>
				<div data-role="fieldcontain">
						<label for="evendate">Date of Event</label></br>
						<input type="date" name="eventdate" placeholder="Date of Event" value=''/><br />
				</div>
				<input type="hidden" value=""/>
				<div data-role="fieldcontain">
						<label for="eventdesc">Description</label></br>
						<input type="text" name="eventdesc" placeholder="Description" value=''/><br />
				</div>
				<div data-role="fieldcontain">
						<label for="eventtype">Event Type</label></br>
						<input type="text" name="eventtype" placeholder="Event Type" value=''/><br/>
				</div>
				<input type="hidden" value="">
				<div data-role="fieldcontain">
						<label for="eventstart">Start Time</label></br>
						<input type="time" name="eventstart" placeholder="Start Time" value=''/><br />
				</div>
				<div data-role="fieldcontain">
						<label for="eventend">End Time</label></br>
						<input type="time" name="eventend" placeholder="End Time" value=''/><br />
				</div>
				<div data-role="fieldcontain">
						<label for='contactname' >Contact Name :</label></br>
						<input type="text" name="contactname" value=''/><br />
				</div>
				<div data-role="fieldcontain">
						<label for="contactphone" >Contact Phone :</label></br>
						<input type="text" name="contactphone" value=''/><br />
				</div>
				<div data-role="fieldcontain">
						<label for="contactemail">Contact Email :</label></br>
						<input type="email" name="contactemail" value=''/><br />
				</div>
				<div data-role="fieldcontain">
						<label for="address">Address :</label></br>
						<textarea name="address"></textarea><br/>
				</div>
				<div data-role="fieldcontain">
						<label for="city">City :</label></br>
						<input type="text" name="city" value=''/><br/>
				</div>
				<div data-role="fieldcontain">
						<label for="state">State :</label></br>
						<input type="text" name="state" value='' maxlength='2'/><br/>
				</div>
				<div data-role="fieldcontain">
						<label for="zip">Zip :</label></br>
						<input type="number" name="zip" value='' maxlength='5'/><br/>
				</div>
				<div data-role="fieldcontain">
						<label for="duties">Duties :</label></br>
						<textarea name="duties"></textarea><br/>
				</div>
				<div data-role="fieldcontain">
						<label for="requirements" >Requirements :</label></br>
						<textarea name="requirements"></textarea><br/>
				</div>
				<input type="hidden" name='event_id'  value='' hidden>
				<input type="button" value="Update" onclick="updateValues()"/><br />
				<input type="button" value="Delete" onclick="deleteEvent()">
		</form>
	</div><!-- /Content -->
</div> <!-- /Page -->


<div data-role="dialog" id="Success">
	<div data-role="header">
		<h1>Profile Updated</h1>
	</div>
	
	<div data-role="content">
		<p> Your Profile Has been Successfully updated</p>
		<p><a href="orgDash.html" data-role="button" data-ajax="false">OK</a></p>
	</div>
</div>

<script language="javascript">
$(popValues());

function popValues(){
	$.post('EditEvent.php', function(responseText, status){
		values = responseText.split("**");
		$('input, textarea').each(function(index){ // #div > input, textarea
			console.log(index + " " + $(this).attr("name"));
			$(this).attr("value", values[index]);
			console.log(index + ' ' + $(this).attr('value'));
		});
	});
}	


function updateValues(){
	$.post('UpdateEvent.php', $('form').serialize() ,function(responseText, status){
		if(responseText == "OK"){
			window.location = "#Success"
		}
	});
}
</script>


</body>
</html>