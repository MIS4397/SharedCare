
<! doctype html>
<html>
<head>
<title>Add an Event</title>
	<meta charset="utf-8">
	<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<!-- Apple Icon -->
	<link rel="apple-touch-icon" size="114x114" href="images/splash-icon.png">
<!-- Loading Screen -->
	<link rel="apple-touch-startup-image" href="images/splash-screen@2x.png" media="(max-device-width: 480px) and (-webkit-min-device-pixel-ratio: 2)" />
<!-- jQuery and jQuery mobile scripts --> 
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
	<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
<!-- Additional Script and Styles -->
	<script type="text/javascript" src="js/menuScript.js"></script>
	<link rel="stylesheet" href="style/mainStyle.css"/>
</head> 
<body>
<div id="menu">
<h3>Edit Profile</h3>
	<ul>
		<li><a href="orgDash.html" class="contentLink"  data-ajax="false" >Home</a></li>
		<li><a href="EditOrgProfile.html" class="contentLink"  data-ajax="false" >Edit Profile </a></li>
		<li><a href="EventListPage.html" class="contentLink"  data-ajax="false" >Edit Events </a></li>
		<li class="active" ><a href="#" class="contentLink"  data-ajax="false" >Add an Event </a></li>
	</ul>
</div><!-- /MENU -->

<!-- ADD EVENT PAGE -->
<div data-role="page" id="addEvent" >
	<div data-role="header" data-theme="b">
		<a href="#" class="showMenu" data-ajax="false">Menu</a>
		<img src="images/LogoIcon.png" style="float:right; position:relative; top: 6px; right: 10px;"></img>
		<h1>&nbsp;&nbsp;DashBoard</h1>
	</div><!-- /header -->
	
<!-- Add Event Content -->
	<div data-role="content" >
		<div style="text-align: center;">
				<img src="images/defaultProf.png">
				<h2 id="orgDashNameAdd">Organization Dashboard</h2>
				<h4 id="orgDashInfoAdd">Organization Address</h4>
		</div>
		
		<form action="AddEvent.php" method="post">
			<div data-role="fieldcontain">
				<label for="eventname">Name of Event:</label></br>
				<input type="text" name="eventname" placeholder="ex. Beach Cleanup, Food Bank, etc."/><br />
			</div>
			<div data-role="fieldcontain">
					<label for="evendate">Date of Event</label></br>
					<input type="date" name="eventdate" placeholder="Date of Event"/><br/>
			</div>
			<div data-role="fieldcontain">
					<label for="eventdesc">Description</label></br>
					<input type="text" name="eventdesc" placeholder="Description"/><br/>
			</div>
			<div data-role="fieldcontain">
					<label for="eventtype">Event Type</label></br>
					<input type="text" name="eventtype" placeholder="Event Type"/><br/>
			</div>
			<div data-role="fieldcontain">
					<label for="eventstart">Start Time</label></br>
					<input type="time" name="eventstart" placeholder="Start Time"/><br />
			</div>
			<div data-role="fieldcontain">
					<label for="eventstop">End Time</label></br>
					<input type="time" name="eventstop" placeholder="End Time"/><br />
			</div>
			<div data-role="fieldcontain">
					<label for='contactname' >Contact Name :</label></br>
					<input type="text" name="contactname"/><br />
			</div>
			<div data-role="fieldcontain">
					<label for="contactphone" >Contact Phone :</label></br>
					<input type="text" name="contactphone"/><br />
			</div>
			<div data-role="fieldcontain">
					<label for="contactemail">Contact Email :</label></br>
					<input type="email" name="contactemail"/><br />
			</div>
			<div data-role="fieldcontain">
					<label for="address">Address :</label></br>
					<input type="text" name="address"/><br />
			</div>
			<div data-role="fieldcontain">
					<label for="city">City :</label></br>
					<input type="text" name="city"/><br />
			</div>
			<div data-role="fieldcontain">
					<label for="state">State :</label></br>
					<input type="text" name="state"/><br />
			</div>
			<div data-role="fieldcontain">
					<label for="zip">Zip :</label></br>
					<input type="text" name="zip"/><br />
			</div>
			<div data-role="fieldcontain">
					<label for="duties" >Duties :</label></br>
					<textarea name="duties"></textarea><br/>
			</div>
			<div data-role="fieldcontain">
					<label for="requirements" >Requirements :</label></br>
					<textarea name="requirements"></textarea><br/>
			</div>
			<div data-role = "fieldcontain">
				<input type="button" value="Add Event" onclick="addEvent()"><br />
			</div>
		</form>
	</div><!--  /Add Event Content -->	
</div><!--  /Add Event Page -->	

<div data-role="dialog" id="Success">
	<div data-role="header">
		<h1>Event Added</h1>
	</div>
	
	<div data-role="content">
		<p> Your Event Has been Successfully Added</p>
		<p><a href="orgDash.html" data-role="button" data-ajax="false">OK</a></p>
	</div>

</div>

<script language="javascript">
//This function is jQuery AJAX to get the Org Info from the Database

$('#addEvent').live('pageinit', function(event){
	$.post('OrgDashboard.php', function(responseText, status){
		var a = responseText.split("**");
		console.log(a);
		$("#orgDashName").html(a[1]);
		$("#orgDashInfo").html(a[2]+"<br>"+a[3]+"<br>"+a[4]+", "+a[5]+" "+a[6]);
	});
});




function addEvent(){
	//Form Validation
	
	
	//Form Submission
	$.post('AddEvent.php', $('form').serialize() ,function(responseText, status){
		if(responseText == "OK"){
			window.location = "#Success";
		}
		else{
			alert("Please Fill Out All required text Fields");
		}
	});
}
</script> 




</body>


</html>